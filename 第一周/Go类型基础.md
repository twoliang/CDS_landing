# Go类型基础

## map无序，所以每次遍历都不一样

底层实现是数组+类似拉链法。 

1.hash函数无序写入 

2.成倍扩容 

3.等量扩容 都决定了map本来就是无序的，所以Go语言为了避免开发者依赖元素顺序，每次遍历的时候都是随机了一个索引起始值。

`map` 的键必须是可以比较的类型，即键类型必须支持 `==` 和 `!=` 操作。例如，基本数据类型（如 `int`、`string`）、指针、通道都可以等作为键。但切片、函数和 `map` 类型不能作为键，因为它们无法进行比较。

map哈希写入，如果发生哈希冲突，一般两种方法解决：

> 1.开放地址：直接找到当前位置下一个不被占用的桶
>
> 2.拉链法：在当前位置的后面链一个新桶

选择桶可以利用与运算，需要一个参数记录2的幂次，这样可以防止有的桶永远不被访问。

## make和new

new返回指向nil的指针（当前类型），make返回当前类型，不是指针

## channel

默认情况下，`channel`接收和发送数据都是阻塞的，除非另一端已经准备好，这样就使得`Goroutines`同步变的更加的简单，而不需要显式的`lock`。所谓阻塞，也就是如果读取（`value := <-ch`）它将会被阻塞，直到有数据接收。其次，任何发送（`ch<-5`）将会被阻塞，直到数据被读出。无缓冲`channel`是在多个`goroutine`之间同步很棒的工具。